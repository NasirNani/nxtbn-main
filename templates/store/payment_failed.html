{% extends "account/base.html" %}
{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% block head_title %}{% if LANGUAGE_CODE == 'tr' %}Odeme Basarisiz | Flexy Medical{% else %}Payment Failed | Flexy Medical{% endif %}{% endblock %}

{% block content %}
<main class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 min-h-screen">
    <div class="rounded-2xl border border-red-200 dark:border-red-800 bg-white dark:bg-[#2c2219] p-6 lg:p-8">
        <h1 class="text-2xl font-bold text-red-700 dark:text-red-400">{% if LANGUAGE_CODE == 'tr' %}Odeme Basarisiz{% else %}Payment Failed{% endif %}</h1>
        <p class="mt-2 text-gray-600 dark:text-gray-300">{% if LANGUAGE_CODE == 'tr' %}Odeme tamamlanamadi. Yeniden deneyebilirsiniz.{% else %}The payment could not be completed. You can try again.{% endif %}</p>

        <div class="mt-6 rounded-lg border border-gray-200 dark:border-gray-700 p-4 text-sm">
            <p>{% if LANGUAGE_CODE == 'tr' %}Siparis{% else %}Order{% endif %}: #{{ transaction.order.id|stringformat:"s"|slice:":8"|upper }}</p>
            <p>{% if LANGUAGE_CODE == 'tr' %}Mesaj{% else %}Message{% endif %}: {{ transaction.error_message|default:"-" }}</p>
        </div>

        <div class="mt-6 flex gap-3">
            <a href="{% url 'payment_start' transaction.id %}" class="px-4 py-2.5 rounded-lg bg-primary text-white font-semibold hover:bg-primary-dark transition-colors">{% if LANGUAGE_CODE == 'tr' %}Tekrar Dene{% else %}Retry{% endif %}</a>
            <a href="{% url 'cart' %}" class="px-4 py-2.5 rounded-lg border border-gray-300 dark:border-gray-700 hover:text-primary transition-colors">{% if LANGUAGE_CODE == 'tr' %}Sepete Don{% else %}Back to Cart{% endif %}</a>
        </div>
    </div>
</main>
{% endblock content %}
